<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Main Page - All Reports</title>
</head>
<body>
    {% load socialaccount %}
    {% load auth_extras %}
    <a href="{% provider_login_url 'google' %}?next=/">Login with Google</a>

    {% if user.is_authenticated %}
    <p>You are signed in as {{user.username}}</p>
    <a href="{% url 'logout'%}">Logout?</a>
    {% endif %}

    {% if request.user|has_group:"site_admin" %}
    <p>You are an admin, {{user.username}}!</p>
    {% endif %}

    <h1>Main Page - All Reports for the Past 24 Hours</h1>

    <!-- List of Reports -->
    <div id="reportsList">
        {% for report in reports %}
            <div class="report">
                <h2><a href="{% url 'view_report' report.id %}">{{ report.title }}</a></h2>
                <p>{{ report.summary }}</p>
                {% if user.is_superuser %}
                    <form action="{% url 'mark_reviewed' report.id %}" method="POST">
                        {% csrf_token %}
                        <input type="submit" value="Mark as Reviewed">
                    </form>
                {% endif %}
            </div>
        {% endfor %}
    </div>

    <!-- Pagination or Scroll -->
    <!-- Add pagination or scrolling functionality here later -->

</body>
</html>
